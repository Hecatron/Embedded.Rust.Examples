# Linker Options

## Blinky flags

I think link.x is being generated by esp32-hal or one of its depends

  "-C", "link-arg=-Wl,-Tlink.x",
  "-C", "link-arg=-nostartfiles",



## Original esp32-hello flags

### Not found

  "-C", "link-arg=-Tesp32.rom.ld",
  "-C", "link-arg=-Tesp32.peripherals.ld",
  "-C", "link-arg=-Tesp32.rom.libgcc.ld",
  "-C", "link-arg=-Tesp32.rom.spiram_incompatible_fns.ld",

  "-C", "link-arg=-Lesp-idf/xtensa-debug-module", "-C", "link-arg=-lxtensa-debug-module",
  "-C", "link-arg=-Lesp-idf/components/esp32/lib", "-C", "link-arg=-lcore",

  "-C", "link-arg=esp-idf/components/esp32/libhal.a",
  "-C", "link-arg=esp-idf/components/newlib/lib/libc.a",
  "-C", "link-arg=esp-idf/components/newlib/lib/libm.a",



### Initial Flags

I think I can get rid of save-temps
-nostdlib means only use library directories specified

  "-C", "target-cpu=esp32",
  "-C", "save-temps",
  "-C", "link-arg=-nostdlib",

### Specify symbols as undefined?

  "-C", "link-arg=-ucall_user_start_cpu0",
  "-C", "link-arg=-u__cxa_guard_dummy",
  "-C", "link-arg=-u__cxx_fatal_exception",
  "-C", "link-arg=-uld_include_panic_highint_hdl",
  "-C", "link-arg=-uesp_app_desc",




### Start Group

  "-C", "link-arg=-Wl,--gc-sections",
  "-C", "link-arg=-Wl,-static",

  "-C", "link-arg=-Wl,--start-group",
  "-C", "link-arg=-Wl,--undefined=uxTopUsedPriority",

### Ld linker scripts

  "-C", "link-arg=-Lesp-idf/esp32/ld",

  "-C", "link-arg=-Tesp-idf/esp32/esp32_out.ld",
  "-C", "link-arg=-Tesp-idf/esp32/ld/esp32.project.ld",

### Linked static libs

-L Library search path / directory
-l link in a library

  "-C", "link-arg=-Lesp-idf/app_update", "-C", "link-arg=-lapp_update",
  "-C", "link-arg=-Lesp-idf/driver", "-C", "link-arg=-ldriver",
  "-C", "link-arg=-Lesp-idf/esp-tls",  "-C", "link-arg=-lesp-tls",
  "-C", "link-arg=-Lesp-idf/esp32",  "-C", "link-arg=-lesp32",
  "-C", "link-arg=-Lesp-idf/heap", "-C", "link-arg=-lheap",
  "-C", "link-arg=-Lesp-idf/log", "-C", "link-arg=-llog",
  "-C", "link-arg=-Lesp-idf/esp_ringbuf", "-C", "link-arg=-lesp_ringbuf",
  "-C", "link-arg=-Lesp-idf/freertos", "-C", "link-arg=-lfreertos",
  "-C", "link-arg=-Lesp-idf/newlib", "-C", "link-arg=-lnewlib",
  "-C", "link-arg=-Lesp-idf/pthread", "-C", "link-arg=-lpthread",
  "-C", "link-arg=-Lesp-idf/soc", "-C", "link-arg=-lsoc",
  "-C", "link-arg=-Lesp-idf/spi_flash", "-C", "link-arg=-lspi_flash",
  "-C", "link-arg=-Lesp-idf/vfs", "-C", "link-arg=-lvfs",

### End Group

  "-C", "link-arg=-lgcc",
  "-C", "link-arg=-lstdc++",
  "-C", "link-arg=-lgcov",

  "-C", "link-arg=-Wl,--end-group",
  "-C", "link-arg=-Wl,-EL",

